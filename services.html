<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Services | Gear 4 Rent</title>
<!-- <link rel="stylesheet" href="style.css"> -->

<style>
    
/* ===== HEADER ===== */
header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 15px 5%;
    background: #0f172a;
    box-shadow: 0 4px 10px rgba(0,0,0,0.2);
}

/* ===== LOGO ===== */
.logo {
    font-size: 20px;
    font-weight: bold;
    color: white;
    text-decoration: none;
}

/* ===== NAV BUTTON CONTAINER ===== */
.nav-buttons {
    display: flex;
    align-items: center;
    gap: 15px;
}

/* ===== NAV LINKS ===== */
.nav-btn {
    text-decoration: none;
    color: white;
    padding: 8px 14px;
    border-radius: 6px;
    transition: 0.3s ease;
    font-size: 14px;
}

.nav-btn:hover {
    background: #1e3a8a;
}

/* ===== PRIMARY BUTTON (Login / Logout) ===== */
.btn-primary {
    background: #1e3a8a;
    font-weight: 500;
}

.btn-primary:hover {
    background: #1d4ed8;
}

/* ===== USER DISPLAY ===== */
#userDisplay {
    font-size: 14px;
    font-weight: 500;
    color: #38bdf8;
}

/* ===== RESPONSIVE ===== */
@media (max-width: 768px) {
    header {
        flex-direction: column;
        align-items: flex-start;
        gap: 10px;
    }

    .nav-buttons {
        flex-wrap: wrap;
        gap: 10px;
    }
}

body{
    animation:fadeIn 0.8s ease-in;
}
@keyframes fadeIn{
    from{opacity:0; transform:translateY(20px);}
    to{opacity:1; transform:translateY(0);}
}

.search-section {
    background: linear-gradient(135deg,#1e3a8a,#0f172a);
    padding: 50px 5%;
    text-align: center;
    color: white;
}

#productSearch {
    width: 60%;
    padding: 15px;
    border-radius: 30px;
    border: none;
    margin-top:20px;
    font-size: 1rem;
}

.product-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 30px;
    padding: 50px 5%;
}

.card {
    background: white;
    border-radius: 15px;
    overflow: hidden;
    box-shadow: 0 8px 20px rgba(0,0,0,0.1);
    transition: 0.3s;
}

.card:hover {
    transform: translateY(-10px);
    box-shadow: 0 15px 35px rgba(0,0,0,0.2);
}

.image-box {
    height: 200px;
    display:flex;
    align-items:center;
    justify-content:center;
    background:#f8fafc;
}

.image-box img{
    max-height:180px;
}

.rent-btn{
    width:100%;
    padding:12px;
    background:#1e3a8a;
    color:white;
    border:none;
    cursor:pointer;
    transition:0.3s;
}

.rent-btn:hover{
    background:#0f172a;
}

.price{
    font-weight:bold;
    color:#1e3a8a;
    margin:10px 0;
}
</style>
</head>

<body>

    <header>
        <div class="nav-buttons">
            <a href="index.html" class="logo">Gear4Rent</a>
        </div>
        <div class="nav-buttons">
            <a href="index.html" class="nav-btn">Home</a>
            <a href="services.html" class="nav-btn">Services</a>
            <a href="about.html" class="nav-btn">About Us</a>
            <a href="contact.html" class="nav-btn">Contact</a>
            <span id="userDisplay" style="color:white; margin-right:15px;"></span>

            <a href="login.html" class="nav-btn btn-primary" id="authBtn">Login</a>
        </div>
    </header>

<section class="search-section">
<h1>Find Your Perfect Gear</h1>
<input type="text" id="productSearch" placeholder="Search model..." onkeyup="filterProducts()">
</section>

<div class="product-grid" id="inventoryGrid"></div>

<div class="product-grid" id="vendorProductsGrid"></div>

<footer style="text-align:center;padding:20px;background:#0f172a;color:white;">
Â© 2026 Gear 4 Rent
</footer>

<script type="module">

import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
import { getFirestore, collection, getDocs, addDoc, query, orderBy, onSnapshot } 
from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

const firebaseConfig = {
  apiKey: "AIzaSyCWZsMhVEB1HbbkTC8igAPlsoE8EzqBtzU",
  authDomain: "gear-4-rent.firebaseapp.com",
  projectId: "gear-4-rent",
  storageBucket: "gear-4-rent.firebasestorage.app",
  messagingSenderId: "1058165643099",
  appId: "1:1058165643099:web:8795bd0b0edf890caeec7e",
  measurementId: "G-NM319RRN80"
};

const app = initializeApp(firebaseConfig);
const db = getFirestore(app);

// ===== ORIGINAL PRODUCTS =====
const products = [
{ name:"MacBook Air M3", price:"10500", specs:"M3 | 8GB RAM | 512GB SSD", img:"https://images.unsplash.com/photo-1517336714731-489689fd1ca8" },
{ name:"HP Elitebook G7", price:"1500", specs:"i5 | 16GB RAM | 256GB SSD", img:"https://images.unsplash.com/photo-1588872657578-7efd1f1555ed" },
{ name:"ASUS ROG Strix G15", price:"4200", specs:"Ryzen 7 | RTX 3050 | 16GB RAM", img:"https://images.unsplash.com/photo-1603302576837-37561b2e2302" },
{ name:"Dell Latitude 5420", price:"2800", specs:"i7 | 16GB RAM | 512GB SSD", img:"https://images.unsplash.com/photo-1593642632823-8f785ba67e45" },
{ name:"Lenovo ThinkPad X1", price:"3500", specs:"i7 | 1TB SSD | Carbon Build", img:"https://images.unsplash.com/photo-1541807084-5c52b6b3adef" },
{ name:"MacBook Pro M2", price:"7800", specs:"M2 | 16GB RAM | 512GB SSD", img:"https://images.unsplash.com/photo-1611186871348-b1ce696e52c9" },
{ name:"Acer Predator Helios 300", price:"4800", specs:"i7 | RTX 3060 | 16GB RAM", img:"https://images.unsplash.com/photo-1518770660439-4636190af475" },
{ name:"MSI Katana GF66", price:"3900", specs:"i7 | RTX 3050 | 144Hz", img:"https://images.unsplash.com/photo-1587202372775-e229f172b9d7" },
{ name:"Samsung Galaxy Book3 Pro", price:"5200", specs:"i7 | AMOLED | 16GB RAM", img:"https://images.unsplash.com/photo-1611078489935-0cb964de46d6" },
{ name:"Dell XPS 13 Plus", price:"6000", specs:"i7 | 1TB SSD | 16GB RAM", img:"https://images.unsplash.com/photo-1515879218367-8466d910aaa4" },
{ name:"HP Omen 16", price:"4700", specs:"Ryzen 7 | RTX 3060", img:"https://images.unsplash.com/photo-1496181133206-80ce9b88a853" },
{ name:"Lenovo Legion 5 Pro", price:"4500", specs:"Ryzen 7 | RTX 3060 | 165Hz", img:"https://images.unsplash.com/photo-1509395176047-4a66953fd231" }
];

const grid = document.getElementById("inventoryGrid");

// ===== DISPLAY ORIGINAL PRODUCTS =====
products.forEach(product => {
    const card = document.createElement("div");
    card.className = "card product-item";
    card.innerHTML = `
        <div class="image-box">
            <img src="${product.img}" alt="${product.name}">
        </div>
        <div style="padding:15px;">
            <h3>${product.name}</h3>
            <p>${product.specs}</p>
            <div class="price">â‚¹${product.price}/mo</div>
            <button class="rent-btn">Rent Now</button>
        </div>
    `;
    grid.appendChild(card);

    // âœ… Attach original Rent Now flow
    card.querySelector(".rent-btn").addEventListener("click", function(){
        const isLoggedIn = sessionStorage.getItem('isLoggedIn');
        if(!isLoggedIn){
            alert("ðŸ”’ Please login first to rent this product!");
            window.location.href = "login.html";
        } else {
            localStorage.setItem("selectedProduct", JSON.stringify(product));
            window.location.href = "payment.html";
        }
    });
});

// ===== LOAD VENDOR PRODUCTS =====
const vendorGrid = document.getElementById("vendorProductsGrid");
const vendorCol = collection(db,"vendorProducts");
onSnapshot(vendorCol, snapshot=>{
    vendorGrid.innerHTML = "";
    snapshot.forEach(doc=>{
        const product = doc.data();
        const card = document.createElement("div");
        card.className = "card product-item";
        card.innerHTML = `
            <div class="image-box">
                <img src="${product.img}" alt="${product.name}">
            </div>
            <div style="padding:15px;">
                <h3>${product.name}</h3>
                <p><strong>Vendor:</strong> ${product.vendor}</p>
                <p>${product.specs}</p>
                <div class="price">â‚¹${product.price}/mo</div>
                <button class="rent-btn">Rent Now</button>
            </div>
        `;
        vendorGrid.appendChild(card);

        // âœ… Attach Rent Now flow to vendor product
        card.querySelector(".rent-btn").addEventListener("click", function(){
            const isLoggedIn = sessionStorage.getItem('isLoggedIn');
            if(!isLoggedIn){
                alert("ðŸ”’ Please login first to rent this product!");
                window.location.href = "login.html";
            } else {
                localStorage.setItem("selectedProduct", JSON.stringify(product));
                window.location.href = "payment.html";
            }
        });
    });
});
</script>

</body>
</html>